[build]
target-dir = "target"
rustflags = ["--cfg", "tokio_unstable"]

[env]
BORING_BSSL_SOURCE_PATH = { value = "deps/boringssl/src", relative = true}
RUST_LOG = { value = "clash=trace" }

[target.aarch64-unknown-linux-gnu]
linker = "/usr/bin/aarch64-linux-gnu-gcc"

[target.aarch64-unknown-linux-musl]
linker = "/usr/bin/aarch64-linux-gnu-gcc"
rustflags = "-Clink-self-contained=yes -Clinker=rust-lld"

[target.armv7-unknown-linux-gnueabihf]
linker = "/usr/bin/arm-linux-gnueabihf-gcc"

[target.armv7-unknown-linux-muslhf]
linker = "/usr/bin/arm-linux-gnueabihf-gcc"
rustflags = "-Clink-self-contained=yes -Clinker=rust-lld"

[target.armv7-unknown-linux-gnueabi]
linker = "/usr/bin/arm-linux-gnueabi-gcc"

[target.armv7-unknown-linux-musl]
linker = "/usr/bin/arm-linux-gnueabi-gcc"
rustflags = "-Clink-self-contained=yes -Clinker=rust-lld"